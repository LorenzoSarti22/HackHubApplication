<div class="container-fluid pt-4">

  <!-- Page Heading -->
  <div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="h3 mb-0 text-uppercase text-primary">Hackathon Attivi</h1>
  </div>

  <p class="mb-4">Scopri le sfide in corso e unisciti all'innovazione.</p>

  <!-- Loading State -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-2 text-gray-500">Caricamento hackathon...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="alert alert-danger" role="alert">
    {{ error }}
  </div>

  <!-- Content Row -->
  <div class="row" *ngIf="!loading && !error">

    <!-- Generate a column for each event -->
    <div *ngFor="let event of events" class="col-xl-4 col-md-6 mb-4">
      <div class="card shadow h-100 py-2 border-left-active">
        <div class="card-body">
          <div class="row no-gutters align-items-center">
            <div class="col mr-2">
              <div class="h5 mb-0 text-uppercase font-weight-bold text-gray-800 mb-2">{{ event.name }}
              </div>
              <div class="text-xs text-gray-600 mb-3">
                <strong>Inizio:</strong> {{ event.runningPeriod.startDate | date:'dd MMM yyyy' }}<br>
                <strong>Fine:</strong> {{ event.runningPeriod.endDate | date:'dd MMM yyyy' }}
              </div>
              <button class="btn btn-primary btn-sm btn-icon-split">
                <span class="icon text-white-50">
                  <i class="bi bi-info-circle"></i>
                </span>
                <span class="text text-white">Dettagli</span>
              </button>
            </div>
            <div class="col-auto d-flex flex-column align-items-end">
              <div class="text-xs font-weight-bold text-uppercase mb-2" style="font-size: 0.65rem;"
                [class]="'text-' + getStatusColor(event.status)">
                {{ event.status }}
              </div>
              <i class="bi bi-calendar-event fs-2 text-gray-300"></i>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- No Events Message -->
    <div *ngIf="!loading && !error && events.length === 0" class="col-12">
      <div class="card shadow mb-4 border-left-secondary">
        <div class="card-body">
          <p class="m-0 text-gray-800">Non ci sono hackathon attivi al momento.</p>
        </div>
      </div>
    </div>

  </div>

</div>