<div id="wrapper" class="d-flex">

  <ul *ngIf="isNotLogin()" class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar"
      style="min-width: 250px; min-height: 100vh; background: #4e73df;">

    <a class="sidebar-brand d-flex align-items-center justify-content-center p-3 text-white text-decoration-none"
       routerLink="/dashboard">
      <div class="sidebar-brand-icon rotate-n-15">
        <i class="bi bi-emoji-laughing-fill fs-2"></i>
      </div>
      <div class="sidebar-brand-text mx-3 fw-bold">HUCKHUB</div>
    </a>

    <hr class="sidebar-divider my-0 text-white-50">

    <li class="nav-item p-2">
      <a class="nav-link text-white text-decoration-none" routerLink="/dashboard">
        <i class="bi bi-house"></i>
        <span> Home </span>
      </a>
    </li>

    <hr class="sidebar-divider text-white-50">

    <div class="sidebar-heading px-3 pb-2 text-white-50"
         style="font-size: 0.7rem; font-weight: 800; text-transform: uppercase;">
      Visualizza Eventi
    </div>


    <li class="nav-item">
      <a class="nav-link collapsed p-3 d-flex justify-content-between align-items-center text-white text-decoration-none"
         href="javascript:void(0)" data-bs-toggle="collapse" data-bs-target="#collapseHackathon" aria-expanded="false"
         aria-controls="collapseHackathon">
        <div>
          <i class="bi bi-card-heading"></i>
          <span class="ms-2">Hackathon</span>
        </div>
        <i class="bi bi-chevron-right small arrow-icon"></i>
      </a>

      <div id="collapseHackathon" class="collapse mx-3" data-bs-parent="#accordionSidebar">
        <div class="bg-white py-2 rounded shadow-sm" style="margin-top: 5px;">
          <h6 class="px-3 py-1 text-uppercase fw-bold" style="font-size: 0.65rem; color: #b7b9cc;">Stato:</h6>
          <a class="d-block px-3 py-1 text-dark text-decoration-none small hover-item"
             routerLink="/activeHackathons">Attivi</a>
          <a class="d-block px-3 py-1 text-dark text-decoration-none small hover-item"
             routerLink="/conclusi">Conclusi</a>
        </div>
      </div>
    </li>

    <hr class="sidebar-divider mt-3 text-white-50">

    <li class="nav-item p-2">
      <a class="nav-link text-white text-decoration-none" routerLink="/esplora">
        <i class="bi bi-airplane-engines"></i>
        <span> Esplora il nostro mondo</span>
      </a>
    </li>

    <hr class="sidebar-divider mt-3 text-white-50">

    <div *ngIf="isOrganizer()">
      <div class="sidebar-heading px-3 pb-2 text-white-50"
           style="font-size: 0.7rem; font-weight: 800; text-transform: uppercase;">
        Area Organizzatore
      </div>

      <li class="nav-item">
        <a class="nav-link p-2 align-items-center text-white text-decoration-none" routerLink="/gestioneEventi">
          <i class="bi bi-gear"></i>
          <span> Gestisci Hackaton</span>
        </a>
      </li>
    </div>

    <hr class="sidebar-divider d-none d-md-block text-white-50">
  </ul>
  <div id="content-wrapper" class="d-flex flex-column flex-grow-1 bg-light">

    <nav *ngIf="isNotLogin()"
         class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow d-flex justify-content-between px-4 py-2">
      <div class="input-group w-25">
        <input type="text" class="form-control bg-light border-0 small" placeholder="Search for...">
        <button class="btn btn-primary" type="button"><i class="bi bi-search"></i></button>
      </div>

      <ul class="navbar-nav ml-auto">
        <!-- Se l'utente NON è loggato -->
        <li class="nav-item" *ngIf="!getUserInfo()">
          <a class="nav-link text-dark fw-bold" routerLink="/login">Accedi</a>
        </li>

        <!-- Se l'utente È loggato -->
        <li class="nav-item dropdown" *ngIf="getUserInfo() as user">
          <a class="nav-link dropdown-toggle text-dark text-decoration-none" id="userDropdown" role="button"
             routerLink="/login">
            <span class="mr-2 d-none d-lg-inline text-gray-600 small">
              {{ user.username }} ({{ user.role }})
            </span>
            <img class="img-profile rounded-circle"
                 src="https://startbootstrap.github.io/startbootstrap-sb-admin-2/img/undraw_profile.svg" width="30">
          </a>
          <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in show" aria-labelledby="userDropdown"
               style="right: 0; left: auto;" *ngIf="false">
            <!-- Placeholder for dropdown logic -->
          </div>
        </li>
        <li class="nav-item" *ngIf="getUserInfo()">
          <a class="nav-link text-danger fw-bold" href="javascript:void(0)" (click)="logout()">Esci</a>
        </li>
      </ul>
    </nav>

    <div class="container-fluid" [class.p-0]="!isNotLogin()">
      <router-outlet></router-outlet>
    </div>

  </div>
</div>
